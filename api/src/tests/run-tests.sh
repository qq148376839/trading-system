#!/bin/bash

# å›æµ‹å†å²æ•°æ®ä¼˜åŒ–åŠŸèƒ½æµ‹è¯•è¿è¡Œè„šæœ¬

echo "=========================================="
echo "å›æµ‹å†å²æ•°æ®ä¼˜åŒ–åŠŸèƒ½æµ‹è¯•"
echo "=========================================="
echo ""

# æ£€æŸ¥æ˜¯å¦å®‰è£…äº†ä¾èµ–
if [ ! -d "node_modules" ]; then
    echo "âš ï¸  æœªæ‰¾åˆ°node_modulesï¼Œæ­£åœ¨å®‰è£…ä¾èµ–..."
    npm install
fi

echo "ğŸ“‹ è¿è¡Œå•å…ƒæµ‹è¯•..."
npm test -- backtest-optimization.test.ts

echo ""
echo "ğŸ“‹ è¿è¡Œé›†æˆæµ‹è¯•..."
npm test -- integration-backtest.test.ts

echo ""
echo "=========================================="
echo "æµ‹è¯•å®Œæˆï¼"
echo "=========================================="

