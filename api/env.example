# API 服务环境变量配置示例

# 数据库配置
DATABASE_URL=postgresql://user:password@localhost:5432/trading_db

# 长桥API配置
# 请访问 https://open.longportapp.com/ 获取API密钥
LONGPORT_APP_KEY=your_app_key
LONGPORT_APP_SECRET=your_app_secret
LONGPORT_ACCESS_TOKEN=your_access_token

# 可选：开启美股夜盘
LONGPORT_ENABLE_OVERNIGHT=false

# 注意：富途牛牛/Moomoo API配置已硬编码在代码中，使用游客cookies，无需环境变量配置
# 如需更新cookies，请修改 api/src/config/futunn.ts 文件

# 服务器配置
PORT=3001
NODE_ENV=development

# API 认证（可选，均可通过 system_config 表配置）
# 认证支持两条路径（任一通过即放行）：
#   A) Cloudflare Access SSO — 自动检测 Cf-Access-Jwt-Assertion 头
#   B) API Key — 通过 Authorization: Bearer <key> 或 X-API-Key 头
# 如不配置 API_AUTH_KEY（环境变量和 DB 都为空），认证不启用，适合内网直接访问
# API_AUTH_KEY=your-secret-api-key-here

# CORS（可选）
# 单容器部署（前后端同端口）时不需要配置，same-origin 不触发 CORS
# 如需限定来源，逗号分隔：CORS_ALLOWED_ORIGINS=https://trading.example.com
# CORS_ALLOWED_ORIGINS=

# 注意：日志系统配置在系统设置界面中调整，不在环境变量中配置
# 可通过前端配置管理页面或直接更新system_config表来配置


